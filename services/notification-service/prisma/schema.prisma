// Notification Service Database Schema
// This service owns notification data

generator client {
  provider = "prisma-client-js"
  output   = "../node_modules/.prisma/client"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Notification {
  id        String              @id @default(uuid())
  userId    String              // Recipient (links to Auth Service)
  type      NotificationType    @default(INFO)
  channel   NotificationChannel @default(IN_APP)
  subject   String?
  message   String
  read      Boolean             @default(false)
  createdAt DateTime            @default(now())

  @@index([userId])
  @@index([read])
  @@map("notifications")
}

enum NotificationType {
  INFO
  SUCCESS
  WARNING
  ERROR
}

enum NotificationChannel {
  EMAIL
  IN_APP
}
